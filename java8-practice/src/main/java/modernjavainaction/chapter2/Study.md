# 동작 파라미터화 코드 전달하기
- 이 장의 내용
    - 변화하는 요구사항에 대응
    - 동작 파라미터화
    - 익명 클래스
    - 람다 표현식 미리보기
    - 실전 예제 : Comparator, Runnable, GUI
    
우리가 어떤 상황에서 일을 하든 소비자 요구사항은 항상 바뀐다. 변화하는 요구사항은 소프트웨어 엔지니어링에서 피할 수 없는 문제다.
예를 들어 농부가 재고목록 조사를 쉽게 할 수 있도록 돕는 애플리케이션이 있다고 가정하자. 농부는 이렇게 말할 것이다.
'녹색 사과를 모두 찾고 싶어요.' 그런데 하룻밤을 자고 일어났더니 농부가 다시 이렇게 말하는 것이다.
'150그램 이상인 사과를 모두 찾고 싶어요' 또 하룻밤을 자고 일어났더니 '150그램 이상이면서 녹색인 사과를 모두 찾을 수 있다면 좋겠네요'
라고 말하는 것이었다. 이렇게 시시각각 변하는 사용자 요구사항에 어떻게 대응해야 할까? 특히 우리의 엔지니어링적인 비용을 가장 최ㅅ화할 수 있으면 좋을 것이다.
그뿐 아니라 새로 추가한 기능은 쉽게 구현할 수 있어야 하며 장기적인 관점에서 유지보수가 쉬워야 한다.
동작 파라미터화(behavior parameterization)를 이용하면 자주 바뀌는 요구사항에 효과적으로 대응할 수 있다. 동작 파라미터화란 아직은 어떻게 실행할 것인지 결정하지 않은 코드 블록을 의미한다.
이 코드 블록은 나중에 프로그램에서 호추랗ㄴ다. 즉, 코드 블록의 실행은 나중으로 미뤄진다. 예를 들어 나중에 실행될 메서드의 인수로 코드 블록을 전달할 수 있다. 결과적으로 코드 블록에 따라 메서드의 동작이 파라미터화된다.
예를 들어 컬렉션을 처리할 때 다음과 같은 메서드를 구현한다고 가정하자.
    - 리스트의 모든 요소에 대해서 '어떤 동작'을 수행할 수 있음
    - 리스트 관련 작업을 끝낸 다음에 '어떤 다른 동작'을 수행할 수 있음
    - 에러가 발생하면 '정해진 어떤 다른 동작'을 수행할 수 있음
동작 파라미터화로 이처럼 다양한 기능을 수행할 수 있다. 예를 들어 우리의 룸메이트는 차로 운전해서 슈퍼마켓에 갔다가 집으로 돌아오는 길을 알고 있다.
그래서 룸메이트에게 빵, 치즈, 와인 등의 식료품을 사다 달라고 부탁했다. 이 동작은 goAndBuy라는 메서드를 호출하면서 사려는 물품을 인수로 제공하는 것에 비유할 수 있다.
그런데 어느 날 너무 급한 일이 생겨서 룸메이트에게 우체국에서 소포를 받아와 달라고 부탁해야 했는데 지금까지 룸메이트는 우체국에서 소포를 가져온 경험이 없다.
따라서 룸메이트에게 '우체국에 가서, 이 고객 번호를 사용하고, 관리자에게 이야기한 다음에, 소포를 가져오면 된다'라고 상세하게 부탁한다. 
이메일로 상세한 부탁 내용을 룸메이트에게 전달하면 룸메이트는 이메일을 확인하는 즉시 부탁을 들어줄 것이다. 이를 줌 더 포괄적인 작업을 수행할 수 있는 go 메서드에 비유할 수 있다.
원하는 동작을 go메서드의 인수로 전달할 수 있다.
먼저 변화하는 요구사항에 유연하게 대응할 수 있게 코드를 구현하는 방법을 예제를 이용해서 살펴본다. 또한 몇 가지 실전 예제를 이용해서 동작 파라미터화를 사용하는 방법을 설명한다.
기존의 자바 API에 포함된 클래스와 인터페이스를 이용해서 리스트를 정렬하거나, 파일 이름을 필터링하거나, 스레드로 코드 블록을 실행하거나, GUI 이벤트를 처리하면서 이미 동작 파라미터화 패턴을 사용해본 독자도 있을 것이다.
동작 파라미터화를 추가하려면 쓸데없는 코드가 늘어난다. 자바 8은 람다 표현식으로 이 문제를 해결한다. 3장에서는 람다 표현식을 어떻게 만들며, 어디에 사용하고, 람다 표현식으로 코드를 간결하게 만드는 방법을 설명한다.

# 2.1 변화하는 요구사항에 대응하기

### 한 개의 파라미터, 다양한 동작
- 동작 파라미터화의 강점 : 컬렉션 탐색 로직과 각 항목에 적용할 동작을 분리할 수 있다는 것
- 한 메서드가 다른 동작을 수행하도록 재활용할 수 있음
- 유연한 API를 만들 때 동작 파라미터화가 중요한 역할을 함

- 코드의 장황함(verbosity)은 나쁜 특성이다. 장황한 코드는 구현하고 유지보수하는 데 시간이 오래 걸릴 뿐 아니라 읽는 즐거움을 빼앗는 요소로, 개발자로부터 외면받는다.
- 한눈에 이해할 수 있어야 좋은 코드다. 
